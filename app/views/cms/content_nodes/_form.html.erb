<%= f.hidden_field :parent_id %>
<%= f.hidden_field :type %>

<div class="tabs">
  <ul class="button-group radius">
    <li><a class="button small secondary" href="#metadata-tab"><%= t(:metadata_and_static_content)%></a></li>
    <% if show_components %>
      <li><a class="button small secondary" href="#components-tab"><%= t(:components)%></a></li>
    <% end %>
    <% if show_categories? %>
      <li><a class="button small secondary" href="#categories-tab"><%= t(:categories)%></a></li>
    <% end %>
  </ul>

  <div id="metadata-tab">
    <ul class="accordion" data-accordion>

      <li class="accordion-navigation">
          <a href="#metadata"><%= t(:metadata) %></a>
          <div id="metadata" class="content">
            <%= f.input :title %>
            <%= f.input :name %>
            <%= f.input :template do %>
              <%= f.select :template, template_options %>
            <% end %>
            <%= f.input :meta_title %>
            <%= f.input :meta_keywords %>
            <%= f.input :meta_description, as: :text %>
            <%= f.input :url %>
            <%= f.input :redirect %>
            <%= f.input :access do %>
              <%= f.select :access, [[t('public'), 'public'], [t('private'), 'private']] %>
            <% end %>
          </div>
      </li>

      <% @content_node.content_groups.each do |group, attrs| %>
        <li class="accordion-navigation">
          <a href="#<%= group %>"><%= t(group) %></a>
          <div id="<%= group %>" class="content">
            <% attrs.each do |attribute| %>
              <div class="row">
                <%= render 'cms/content_attributes/' + attribute.type_name + '_field', f: f, attribute: attribute, component_idx: nil %>
              </div>
            <% end %>
          </div>
        </li>
      <% end %>

    </ul>
  </div>

  <div id="components-tab">
    <% if @content_node.content_components.present? %>
      <ul id="components" class="accordion" data-accordion>
        <%= render "cms/content_components/accordion_items", components: @content_node.content_components %>
      </ul>
    <% else %>
      <ul id="components" class="accordion drop-placeholder" data-accordion>
        <li class="placeholder"><%= t(:drop_components) %></li>
      </ul>
    <% end %>
  </div>

  <% if show_categories? %>
    <div id="categories-tab">
      <%= f.association :content_categories, as: :check_boxes, label: false %>
    </div>
  <% end %>

</div>
